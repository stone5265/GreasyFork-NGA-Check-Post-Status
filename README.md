# NGA检查帖子可见状态

本脚本基于 [NGA优化摸鱼体验](https://github.com/kisshang1993/NGA-BBS-Script)v4.5.4引擎 开发，可独立运行

同时感谢 https://greasyfork.org/zh-CN/users/263018-snyssss 提供的技术支持

（应该可兼容**NGA优化摸鱼体验**，但没具体测试过，若有冲突后续可能会提供一个**NGA优化摸鱼体验**插件版本）

**支持 NGA 的三个域名 (`nga.178.com`, `ngabbs.com`, `bbs.nga.cn`)**

## 功能

### 不可见楼层提醒

浏览主题时, 检查当前页楼层的可见状态, 对不可见楼层 (分为 `登录用户的楼层` 和 `其他用户的楼层`) 予以提示

- **登录用户的楼层**: 在"点赞"按钮旁边显示检测结果 (`可见` 或者 `不可见`), 当不可见时弹窗提示
  
  <没过审的帖子仅发贴用户可见, 登录用户很难意识到自己发的帖子别人看不见, 因此对这种情况进行提示, 旨在消除登录用户和其他用户的信息差>

- **其他用户的楼层**: 当有楼层缺失时弹窗提示

### 关注列表

在"点赞"按钮旁边添加一个"关注"按钮, 可以将该楼层添加进`关注列表`

![关注列表](https://raw.githubusercontent.com/stone5265/GreasyFork-NGA-Check-Post-Status/refs/heads/master/figs/watchlist.png)

- **主题**: 关注楼层位于的主题名, 当内容太长时鼠标悬停可显示完整内容

- **楼层**: 点击后可跳转到对应的楼层页面

- **状态**: 分为 `可见` / `不可见(红色)` / `-`(未检查)

- **上次检测**: 距离上次检测的时间

- **剩余时间**: 距离关注失效的剩余时间

- **设置面板**: 可自定义 `关注过期的天数`(默认120天) / `关注过期后自动删除的天数`(默认1天) / `自动检查开关`(默认关闭) / `自动检查的间隔`(默认60分钟)

- **自动检测**: (默认关闭) 当 处于某个版面的第一页 且 距离上次自动检查超过一定间隔 时, 自动检查`关注列表`中未失效的关注, 并予以提示

  <需要频繁编辑标题的新番动画讨论专楼经常会二次复审卡审核, 旨在面向 楼主/版主 关注专楼可见状态, 以便及时 申诉/处理 卡审核专楼>

## 安装

- GreasyFork: [地址](https://greasyfork.org/zh-CN/scripts/531676-nga%E6%A3%80%E6%9F%A5%E5%B8%96%E5%AD%90%E5%8F%AF%E8%A7%81%E7%8A%B6%E6%80%81)

- GreasyFork国内镜像: [地址](https://greasyfork.dpdns.org/zh-CN/scripts/531676-nga%E6%A3%80%E6%9F%A5%E5%B8%96%E5%AD%90%E5%8F%AF%E8%A7%81%E7%8A%B6%E6%80%81)

## 兼容性支持

- 脚本管理器: 理论上 **Tampermonkey** 和 **Greasymonkey** 应该都可以，但只测试过前者，若有问题欢迎反馈

- 浏览器: 只在 **Microsoft Edge** (v134) 上测试过，理论上支持上述脚本管理器的浏览器应该都支持